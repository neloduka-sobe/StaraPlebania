import{r as n}from"./index-BgGHRyL3.js";import{r as Zt}from"./index-DBReix09.js";const ft="carousel",pt="controller",qt="navigation",Qt="no-scroll",Fe="portal",Jt="root",ht="toolbar",uo="captions",fo="counter",po="download",ho="fullscreen",mo="inline",vo="share",Eo="slideshow",go="thumbnails",_o="zoom",Ee="loading",en="playing",ge="error",_e="complete",tn="placeholder",ce=e=>`active-slide-${e}`,xo=ce(Ee),Lo=ce(en),Po=ce(ge),bo=ce(_e),Co="fullsize",mt="flex_center",nn="no_scroll",vt="no_scroll_padding",on="slide_wrapper",No="slide_wrapper_interactive",j="prev",Z="next",et="swipe",te="close",Et="onPointerDown",gt="onPointerMove",_t="onPointerUp",xt="onPointerLeave",Lt="onPointerCancel",Pt="onKeyDown",rn="onKeyUp",bt="onWheel",cn="Escape",sn="ArrowLeft",ln="ArrowRight",an="button",We="icon",Ct="contain",tt="cover",un="Unknown action type",Nt="yarl__";function G(...e){return[...e].filter(Boolean).join(" ")}function N(e){return`${Nt}${e}`}function V(e){return`--${Nt}${e}`}function se(e,t){return`${e}${t?`_${t}`:""}`}function He(e){return t=>se(e,t)}function dn(e,t){var o;return(o=e==null?void 0:e[t])!==null&&o!==void 0?o:t}function It(...e){return()=>{e.forEach(t=>{t()})}}function q(e,t,o){return()=>{const r=n.useContext(o);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r}}function Be(){return typeof window<"u"}function fn(e,t=0){const o=10**t;return Math.round((e+Number.EPSILON)*o)/o}function wt(e){return e.type===void 0||e.type==="image"}function pn(e,t){return e.imageFit===tt||e.imageFit!==Ct&&t===tt}function Pe(e){return typeof e=="string"?Number.parseInt(e,10):e}function Le(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Pe(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function hn(e,t){const o=Le(t),r=o.percent!==void 0?e.width/100*o.percent:o.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function Io(){return(Be()?window==null?void 0:window.devicePixelRatio:void 0)||1}function St(e,t){return t>0?(e%t+t)%t:0}function Ot(e){return e.length>0}function Rt(e,t){return e[St(t,e.length)]}function Ue(e,t){return Ot(e)?Rt(e,t):void 0}function mn(e){return wt(e)?e.src:void 0}function wo(e,t,o){if(!o)return e;const{buttons:r,...i}=e,c=r.findIndex(l=>l===t),s=n.isValidElement(o)?n.cloneElement(o,{key:t},null):o;if(c>=0){const l=[...r];return l.splice(c,1,s),{buttons:l,...i}}return{buttons:[s,...r],...i}}function So(){const e=t=>{t.stopPropagation()};return{onPointerDown:e,onKeyDown:e,onWheel:e}}function vn(e,t,o=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),o))}const En=Number(n.version.split(".")[0])>=19;function gn(e){return{inert:En?e:e?"":void 0}}const Ve={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[te]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Ct,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function Q(e,t){return{name:e,component:t}}function D(e,t){return{module:e,children:t}}function yt(e,t,o){return e.module.name===t?o(e):e.children?[D(e.module,e.children.flatMap(r=>{var i;return(i=yt(r,t,o))!==null&&i!==void 0?i:[]}))]:[e]}function ee(e,t,o){return e.flatMap(r=>{var i;return(i=yt(r,t,o))!==null&&i!==void 0?i:[]})}function _n(e,t=[],o=[]){let r=e;const i=E=>{const h=[...r];for(;h.length>0;){const d=h.pop();if((d==null?void 0:d.module.name)===E)return!0;d!=null&&d.children&&h.push(...d.children)}return!1},c=(E,h)=>{if(E===""){r=[D(h,r)];return}r=ee(r,E,d=>[D(h,[d])])},s=(E,h)=>{r=ee(r,E,d=>[D(d.module,[D(h,d.children)])])},l=(E,h,d)=>{r=ee(r,E,b=>{var g;return[D(b.module,[...d?[D(h)]:[],...(g=b.children)!==null&&g!==void 0?g:[],...d?[]:[D(h)]])]})},f=(E,h,d)=>{r=ee(r,E,b=>[...d?[D(h)]:[],b,...d?[]:[D(h)]])},u=E=>{s(pt,E)},m=(E,h)=>{r=ee(r,E,d=>[D(h,d.children)])},v=E=>{r=ee(r,E,h=>h.children)},P=E=>{o.push(E)};return t.forEach(E=>{E({contains:i,addParent:c,append:s,addChild:l,addSibling:f,addModule:u,replace:m,remove:v,augment:P})}),{config:r,augmentation:E=>o.reduce((h,d)=>d(h),E)}}const Tt=n.createContext(null),ze=q("useDocument","DocumentContext",Tt);function xn({nodeRef:e,children:t}){const o=n.useMemo(()=>{const r=c=>{var s;return((s=c||e.current)===null||s===void 0?void 0:s.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:c=>{var s;return((s=r(c))===null||s===void 0?void 0:s.defaultView)||window}}},[e]);return n.createElement(Tt.Provider,{value:o},t)}const Mt=n.createContext(null),be=q("useEvents","EventsContext",Mt);function Ln({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const o=n.useMemo(()=>{const r=(s,l)=>{var f;(f=t[s])===null||f===void 0||f.splice(0,t[s].length,...t[s].filter(u=>u!==l))};return{publish:(...[s,l])=>{var f;(f=t[s])===null||f===void 0||f.forEach(u=>u(l))},subscribe:(s,l)=>(t[s]||(t[s]=[]),t[s].push(l),()=>r(s,l)),unsubscribe:r}},[t]);return n.createElement(Mt.Provider,{value:o},e)}const At=n.createContext(null),le=q("useLightboxProps","LightboxPropsContext",At);function Pn({children:e,...t}){return n.createElement(At.Provider,{value:t},e)}const Dt=n.createContext(null),Ce=q("useLightboxState","LightboxStateContext",Dt),kt=n.createContext(null),bn=q("useLightboxDispatch","LightboxDispatchContext",kt);function Cn(e,t){switch(t.type){case"swipe":{const{slides:o}=e,r=(t==null?void 0:t.increment)||0,i=e.globalIndex+r,c=St(i,o.length),s=Ue(o,c),l=r||t.duration?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:o,currentIndex:c,globalIndex:i,currentSlide:s,animation:l}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:Ue(t.slides,t.index)}:e;default:throw new Error(un)}}function Nn({slides:e,index:t,children:o}){const[r,i]=n.useReducer(Cn,{slides:e,currentIndex:t,globalIndex:t,currentSlide:Ue(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const c=n.useMemo(()=>({...r,state:r,dispatch:i}),[r,i]);return n.createElement(kt.Provider,{value:i},n.createElement(Dt.Provider,{value:c},o))}const Wt=n.createContext(null),Ne=q("useTimeouts","TimeoutsContext",Wt);function In({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const o=n.useMemo(()=>{const r=s=>{t.splice(0,t.length,...t.filter(l=>l!==s))};return{setTimeout:(s,l)=>{const f=window.setTimeout(()=>{r(f),s()},l);return t.push(f),f},clearTimeout:s=>{s!==void 0&&(r(s),window.clearTimeout(s))}}},[t]);return n.createElement(Wt.Provider,{value:o},e)}const Ut=n.forwardRef(function({label:t,className:o,icon:r,renderIcon:i,onClick:c,style:s,...l},f){const{styles:u,labels:m}=le(),v=dn(m,t);return n.createElement("button",{ref:f,type:"button",title:v,"aria-label":v,className:G(N(an),o),onClick:c,style:{...s,...u.button},...l},i?i():n.createElement(r,{className:N(We),style:u.icon}))});function Vt(e,t){const o=r=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return o.displayName=e,o}function ae(e,t){return Vt(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function Oo(e,t){return Vt(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const wn=ae("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Sn=ae("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),On=ae("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Rn=ae("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,o)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/o.length*(t+1),transform:`rotate(${360/o.length*t}, 12, 12)`})))),yn=ae("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),ue=Be()?n.useLayoutEffect:n.useEffect;function $t(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var o,r;const i=(o=window.matchMedia)===null||o===void 0?void 0:o.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const c=s=>t(s.matches);return(r=i==null?void 0:i.addEventListener)===null||r===void 0||r.call(i,"change",c),()=>{var s;return(s=i==null?void 0:i.removeEventListener)===null||s===void 0?void 0:s.call(i,"change",c)}},[]),e}function Tn(e){let t=0,o=0,r=0;const c=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(c){const s=c[1].split(",").map(Pe);s.length===6?(t=s[4],o=s[5]):s.length===16&&(t=s[12],o=s[13],r=s[14])}return{x:t,y:o,z:r}}function nt(e,t){const o=n.useRef(),r=n.useRef(),i=$t();return ue(()=>{var c,s,l;if(e.current&&o.current!==void 0&&!i){const{keyframes:f,duration:u,easing:m,onfinish:v}=t(o.current,e.current.getBoundingClientRect(),Tn(e.current))||{};if(f&&u){(c=r.current)===null||c===void 0||c.cancel(),r.current=void 0;try{r.current=(l=(s=e.current).animate)===null||l===void 0?void 0:l.call(s,f,{duration:u,easing:m})}catch(P){console.error(P)}r.current&&(r.current.onfinish=()=>{r.current=void 0,v==null||v()})}}o.current=void 0}),{prepareAnimation:c=>{o.current=c},isAnimationPlaying:()=>{var c;return((c=r.current)===null||c===void 0?void 0:c.playState)==="running"}}}function Ft(){const e=n.useRef(null),t=n.useRef(),[o,r]=n.useState();return{setContainerRef:n.useCallback(c=>{e.current=c,t.current&&(t.current.disconnect(),t.current=void 0);const s=()=>{if(c){const l=window.getComputedStyle(c),f=u=>parseFloat(u)||0;r({width:Math.round(c.clientWidth-f(l.paddingLeft)-f(l.paddingRight)),height:Math.round(c.clientHeight-f(l.paddingTop)-f(l.paddingBottom))})}else r(void 0)};s(),c&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(s),t.current.observe(c))},[]),containerRef:e,containerRect:o}}function xe(){const e=n.useRef(),{setTimeout:t,clearTimeout:o}=Ne();return n.useCallback((r,i)=>{o(e.current),e.current=t(r,i>0?i:0)},[t,o])}function A(e){const t=n.useRef(e);return ue(()=>{t.current=e}),n.useCallback((...o)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...o)},[])}function ot(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function $e(e,t){return n.useMemo(()=>e==null&&t==null?null:o=>{ot(e,o),ot(t,o)},[e,t])}function Mn(e,t=!1){const o=n.useRef();ue(()=>{t&&o.current&&(o.current=!1,e())},[t,e]);const r=n.useCallback(()=>{o.current=!0},[]),i=n.useCallback(()=>{o.current=!1},[]);return{onFocus:r,onBlur:i}}function Ke(){const[e,t]=n.useState(!1);return ue(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function An(){const[e]=n.useState({}),t=n.useCallback((i,c)=>{var s;(s=e[i])===null||s===void 0||s.forEach(l=>{c.isPropagationStopped()||l(c)})},[e]),o=n.useMemo(()=>({onPointerDown:i=>t(Et,i),onPointerMove:i=>t(gt,i),onPointerUp:i=>t(_t,i),onPointerLeave:i=>t(xt,i),onPointerCancel:i=>t(Lt,i),onKeyDown:i=>t(Pt,i),onKeyUp:i=>t(rn,i),onWheel:i=>t(bt,i)}),[t]),r=n.useCallback((i,c)=>(e[i]||(e[i]=[]),e[i].unshift(c),()=>{const s=e[i];s&&s.splice(0,s.length,...s.filter(l=>l!==c))}),[e]);return{registerSensors:o,subscribeSensors:r}}function rt(e,t){const o=n.useRef(0),r=xe(),i=A((...c)=>{o.current=Date.now(),e(c)});return n.useCallback((...c)=>{r(()=>{i(c)},t-(Date.now()-o.current))},[t,i,r])}const Ae=He("slide"),De=He("slide_image");function Dn({slide:e,offset:t,render:o,rect:r,imageFit:i,imageProps:c,onClick:s,onLoad:l,onError:f,style:u}){var m,v,P,E,h,d,b;const[g,L]=n.useState(Ee),{publish:w}=be(),{setTimeout:T}=Ne(),x=n.useRef(null);n.useEffect(()=>{t===0&&w(ce(g))},[t,g,w]);const O=A(C=>{("decode"in C?C.decode():Promise.resolve()).catch(()=>{}).then(()=>{C.parentNode&&(L(_e),T(()=>{l==null||l(C)},0))})}),S=n.useCallback(C=>{x.current=C,C!=null&&C.complete&&O(C)},[O]),y=n.useCallback(C=>{O(C.currentTarget)},[O]),p=A(()=>{L(ge),f==null||f()}),_=pn(e,i),I=(C,X)=>Number.isFinite(C)?C:X,F=I(Math.max(...((v=(m=e.srcSet)===null||m===void 0?void 0:m.map(C=>C.width))!==null&&v!==void 0?v:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((P=x.current)===null||P===void 0?void 0:P.naturalWidth)||0),W=I(Math.max(...((h=(E=e.srcSet)===null||E===void 0?void 0:E.map(C=>C.height))!==null&&h!==void 0?h:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((d=x.current)===null||d===void 0?void 0:d.naturalHeight)||0),J=F&&W?{maxWidth:`min(${F}px, 100%)`,maxHeight:`min(${W}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},M=(b=e.srcSet)===null||b===void 0?void 0:b.sort((C,X)=>C.width-X.width).map(C=>`${C.src} ${C.width}w`).join(", "),Ie=()=>r&&!_&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,H=M&&r&&Be()?`${Math.round(Math.min(Ie(),r.width))}px`:void 0,{style:fe,className:we,...Se}=c||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:S,onLoad:y,onError:p,onClick:s,draggable:!1,className:G(N(De()),_&&N(De("cover")),g!==_e&&N(De("loading")),we),style:{...J,...u,...fe},...Se,alt:e.alt,sizes:H,srcSet:M,src:e.src}),g!==_e&&n.createElement("div",{className:N(Ae(tn))},g===Ee&&(o!=null&&o.iconLoading?o.iconLoading():n.createElement(Rn,{className:G(N(We),N(Ae(Ee)))})),g===ge&&(o!=null&&o.iconError?o.iconError():n.createElement(yn,{className:G(N(We),N(Ae(ge)))}))))}const kn=n.forwardRef(function({className:t,children:o,...r},i){const c=n.useRef(null);return n.createElement(xn,{nodeRef:c},n.createElement("div",{ref:$e(i,c),className:G(N("root"),t),...r},o))});var k;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(k||(k={}));function Wn(e,t,o,r,i){n.useEffect(()=>i?()=>{}:It(e(Et,t),e(gt,o),e(_t,r),e(xt,r),e(Lt,r)),[e,t,o,r,i])}var B;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(B||(B={}));const ke=30;function Un(e,t,o,r,i,c,s,l,f,u,m,v,P,E){const h=n.useRef(0),d=n.useRef([]),b=n.useRef(),g=n.useRef(0),L=n.useRef(B.NONE),w=n.useCallback(p=>{b.current===p.pointerId&&(b.current=void 0,L.current=B.NONE);const _=d.current;_.splice(0,_.length,..._.filter(I=>I.pointerId!==p.pointerId))},[]),T=n.useCallback(p=>{w(p),p.persist(),d.current.push(p)},[w]),x=A(p=>{T(p)}),O=(p,_)=>u&&p>_||f&&p<-_,S=A(p=>{if(d.current.find(_=>_.pointerId===p.pointerId)&&b.current===p.pointerId){const _=Date.now()-g.current,I=h.current;L.current===B.SWIPE?Math.abs(I)>.3*o||Math.abs(I)>5&&_<r?s(I,_):l(I):L.current===B.PULL&&(O(I,2*ke)?P(I,_):E(I)),h.current=0,L.current=B.NONE}w(p)}),y=A(p=>{const _=d.current.find(I=>I.pointerId===p.pointerId);if(_){const I=b.current===p.pointerId;if(p.buttons===0){I&&h.current!==0?S(p):w(_);return}const F=p.clientX-_.clientX,W=p.clientY-_.clientY;if(b.current===void 0){const J=M=>{T(p),b.current=p.pointerId,g.current=Date.now(),L.current=M};Math.abs(F)>Math.abs(W)&&Math.abs(F)>ke&&t(F)?(J(B.SWIPE),i()):Math.abs(W)>Math.abs(F)&&O(W,ke)&&(J(B.PULL),m())}else I&&(L.current===B.SWIPE?(h.current=F,c(F)):L.current===B.PULL&&(h.current=W,v(W)))}});Wn(e,x,y,S)}function Vn({preventDefaultWheelX:e,preventDefaultWheelY:t}){const o=n.useRef(null),r=A(i=>{const c=Math.abs(i.deltaX)>Math.abs(i.deltaY);(c&&e||!c&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var c;i?i.addEventListener("wheel",r,{passive:!1}):(c=o.current)===null||c===void 0||c.removeEventListener("wheel",r),o.current=i},[r])}function $n(e,t,o,r,i,c,s,l,f){const u=n.useRef(0),m=n.useRef(0),v=n.useRef(),P=n.useRef(),E=n.useRef(0),h=n.useRef(),d=n.useRef(0),{setTimeout:b,clearTimeout:g}=Ne(),L=n.useCallback(()=>{v.current&&(g(v.current),v.current=void 0)},[g]),w=n.useCallback(()=>{P.current&&(g(P.current),P.current=void 0)},[g]),T=A(()=>{e!==k.SWIPE&&(u.current=0,d.current=0,L(),w())});n.useEffect(T,[e,T]);const x=A(S=>{P.current=void 0,u.current===S&&f(u.current)}),O=A(S=>{if(S.ctrlKey||Math.abs(S.deltaY)>Math.abs(S.deltaX))return;const y=p=>{E.current=p,g(h.current),h.current=p>0?b(()=>{E.current=0,h.current=void 0},300):void 0};if(e===k.NONE){if(Math.abs(S.deltaX)<=1.2*Math.abs(E.current)){y(S.deltaX);return}if(!o(-S.deltaX))return;if(m.current+=S.deltaX,L(),Math.abs(m.current)>30)m.current=0,y(0),d.current=Date.now(),c();else{const p=m.current;v.current=b(()=>{v.current=void 0,p===m.current&&(m.current=0)},i)}}else if(e===k.SWIPE){let p=u.current-S.deltaX;if(p=Math.min(Math.abs(p),r)*Math.sign(p),u.current=p,s(p),w(),Math.abs(p)>.2*r){y(S.deltaX),l(p,Date.now()-d.current);return}P.current=b(()=>x(p),2*i)}else y(S.deltaX)});n.useEffect(()=>t(bt,O),[t,O])}const it=He("container"),Ht=n.createContext(null),de=q("useController","ControllerContext",Ht);function Fn({children:e,...t}){var o;const{carousel:r,animation:i,controller:c,on:s,styles:l,render:f}=t,{closeOnPullUp:u,closeOnPullDown:m,preventDefaultWheelX:v,preventDefaultWheelY:P}=c,[E,h]=n.useState(),d=Ce(),b=bn(),[g,L]=n.useState(k.NONE),w=n.useRef(0),T=n.useRef(0),x=n.useRef(1),{registerSensors:O,subscribeSensors:S}=An(),{subscribe:y,publish:p}=be(),_=xe(),I=xe(),F=xe(),{containerRef:W,setContainerRef:J,containerRect:M}=Ft(),Ie=$e(Vn({preventDefaultWheelX:v,preventDefaultWheelY:P}),J),H=n.useRef(null),fe=$e(H,void 0),{getOwnerDocument:we}=ze(),Se=Ke(),C=a=>(Se?-1:1)*(typeof a=="number"?a:1),X=A(()=>{var a;return(a=W.current)===null||a===void 0?void 0:a.focus()}),Xe=A(()=>t),Ge=A(()=>d),pe=n.useCallback(a=>p(j,a),[p]),he=n.useCallback(a=>p(Z,a),[p]),ne=n.useCallback(()=>p(te),[p]),Oe=a=>!(r.finite&&(C(a)>0&&d.currentIndex===0||C(a)<0&&d.currentIndex===d.slides.length-1)),Ye=a=>{var R;w.current=a,(R=W.current)===null||R===void 0||R.style.setProperty(V("swipe_offset"),`${Math.round(a)}px`)},Re=a=>{var R,U;T.current=a,x.current=(()=>{const re=m&&a>0?a:u&&a<0?-a:0;return Math.min(Math.max(fn(1-re/60*(1-.5),2),.5),1)})(),(R=W.current)===null||R===void 0||R.style.setProperty(V("pull_offset"),`${Math.round(a)}px`),(U=W.current)===null||U===void 0||U.style.setProperty(V("pull_opacity"),`${x.current}`)},{prepareAnimation:Kt}=nt(H,(a,R,U)=>{if(H.current&&M)return{keyframes:[{transform:`translate(0, ${a.rect.y-R.y+U.y}px)`,opacity:a.opacity},{transform:"translate(0, 0)",opacity:1}],duration:a.duration,easing:i.easing.fade}}),je=(a,R)=>{if(u||m){Re(a);let U=0;H.current&&(U=i.fade*(R?2:1),Kt({rect:H.current.getBoundingClientRect(),opacity:x.current,duration:U})),F(()=>{Re(0),L(k.NONE)},U),L(k.ANIMATION),R||ne()}},{prepareAnimation:Xt,isAnimationPlaying:Gt}=nt(H,(a,R,U)=>{var z;if(H.current&&M&&(!((z=d.animation)===null||z===void 0)&&z.duration)){const $=Le(r.spacing),re=($.percent?$.percent*M.width/100:$.pixel)||0;return{keyframes:[{transform:`translate(${C(d.globalIndex-a.index)*(M.width+re)+a.rect.x-R.x+U.x}px, 0)`},{transform:"translate(0, 0)"}],duration:d.animation.duration,easing:d.animation.easing}}}),oe=A(a=>{var R,U;const z=a.offset||0,$=z?i.swipe:(R=i.navigation)!==null&&R!==void 0?R:i.swipe,re=!z&&!Gt()?i.easing.navigation:i.easing.swipe;let{direction:me}=a;const ve=(U=a.count)!==null&&U!==void 0?U:1;let ye=k.ANIMATION,K=$*ve;if(!me){const ie=M==null?void 0:M.width,Je=a.duration||0,Me=ie?$/ie*Math.abs(z):$;ve!==0?(Je<Me?K=K/Me*Math.max(Je,Me/5):ie&&(K=$/ie*(ie-Math.abs(z))),me=C(z)>0?j:Z):K=$/2}let Te=0;me===j?Oe(C(1))?Te=-ve:(ye=k.NONE,K=$):me===Z&&(Oe(C(-1))?Te=ve:(ye=k.NONE,K=$)),K=Math.round(K),I(()=>{Ye(0),L(k.NONE)},K),H.current&&Xt({rect:H.current.getBoundingClientRect(),index:d.globalIndex}),L(ye),p(et,{type:"swipe",increment:Te,duration:K,easing:re})});n.useEffect(()=>{var a,R;!((a=d.animation)===null||a===void 0)&&a.increment&&(!((R=d.animation)===null||R===void 0)&&R.duration)&&_(()=>b({type:"swipe",increment:0}),d.animation.duration)},[d.animation,b,_]);const Ze=[S,Oe,(M==null?void 0:M.width)||0,i.swipe,()=>L(k.SWIPE),a=>Ye(a),(a,R)=>oe({offset:a,duration:R,count:1}),a=>oe({offset:a,count:0})],Yt=[()=>{m&&L(k.PULL)},a=>Re(a),a=>je(a),a=>je(a,!0)];Un(...Ze,u,m,...Yt),$n(g,...Ze);const qe=A(()=>{c.focus&&we().querySelector(`.${N(Fe)} .${N(it())}`)&&X()});n.useEffect(qe,[qe]);const Qe=A(()=>{var a;(a=s.view)===null||a===void 0||a.call(s,{index:d.currentIndex})});n.useEffect(Qe,[d.globalIndex,Qe]),n.useEffect(()=>It(y(j,a=>oe({direction:j,...a})),y(Z,a=>oe({direction:Z,...a})),y(et,a=>b(a))),[y,oe,b]);const jt=n.useMemo(()=>({prev:pe,next:he,close:ne,focus:X,slideRect:M?hn(M,r.padding):{width:0,height:0},containerRect:M||{width:0,height:0},subscribeSensors:S,containerRef:W,setCarouselRef:fe,toolbarWidth:E,setToolbarWidth:h}),[pe,he,ne,X,S,M,W,fe,E,h,r.padding]);return n.useImperativeHandle(c.ref,()=>({prev:pe,next:he,close:ne,focus:X,getLightboxProps:Xe,getLightboxState:Ge}),[pe,he,ne,X,Xe,Ge]),n.createElement("div",{ref:Ie,className:G(N(it()),N(mt)),style:{...g===k.SWIPE?{[V("swipe_offset")]:`${Math.round(w.current)}px`}:null,...g===k.PULL?{[V("pull_offset")]:`${Math.round(T.current)}px`,[V("pull_opacity")]:`${x.current}`}:null,...c.touchAction!=="none"?{[V("controller_touch_action")]:c.touchAction}:null,...l.container},...c.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...O},M&&n.createElement(Ht.Provider,{value:jt},e,(o=f.controls)===null||o===void 0?void 0:o.call(f)))}const Hn=Q(pt,Fn);function Y(e){return se(ft,e)}function ct(e){return se("slide",e)}function Bn({slide:e,offset:t}){const o=n.useRef(null),{currentIndex:r}=Ce(),{slideRect:i,close:c,focus:s}=de(),{render:l,carousel:{imageFit:f,imageProps:u},on:{click:m},controller:{closeOnBackdropClick:v},styles:{slide:P}}=le(),{getOwnerDocument:E}=ze(),h=t!==0;n.useEffect(()=>{var g;h&&(!((g=o.current)===null||g===void 0)&&g.contains(E().activeElement))&&s()},[h,s,E]);const d=()=>{var g,L,w,T;let x=(g=l.slide)===null||g===void 0?void 0:g.call(l,{slide:e,offset:t,rect:i});return!x&&wt(e)&&(x=n.createElement(Dn,{slide:e,offset:t,render:l,rect:i,imageFit:f,imageProps:u,onClick:h?void 0:()=>m==null?void 0:m({index:r})})),x?n.createElement(n.Fragment,null,(L=l.slideHeader)===null||L===void 0?void 0:L.call(l,{slide:e}),((w=l.slideContainer)!==null&&w!==void 0?w:({children:O})=>O)({slide:e,children:x}),(T=l.slideFooter)===null||T===void 0?void 0:T.call(l,{slide:e})):null},b=g=>{const L=o.current,w=g.target instanceof HTMLElement?g.target:void 0;v&&w&&L&&(w===L||Array.from(L.children).find(T=>T===w)&&w.classList.contains(N(on)))&&c()};return n.createElement("div",{ref:o,className:G(N(ct()),!h&&N(ct("current")),N(mt)),...gn(h),onClick:b,style:P},d())}function zn(){const e=le().styles.slide;return n.createElement("div",{className:N("slide"),style:e})}function Kn({carousel:e}){const{slides:t,currentIndex:o,globalIndex:r}=Ce(),{setCarouselRef:i}=de(),c=Le(e.spacing),s=Le(e.padding),l=vn(e,t,1),f=[];if(Ot(t))for(let u=o-l;u<=o+l;u+=1){const m=Rt(t,u),v=r-o+u,P=e.finite&&(u<0||u>t.length-1);f.push(P?{key:v}:{key:[`${v}`,mn(m)].filter(Boolean).join("|"),offset:u-o,slide:m})}return n.createElement("div",{ref:i,className:G(N(Y()),f.length>0&&N(Y("with_slides"))),style:{[`${V(Y("slides_count"))}`]:f.length,[`${V(Y("spacing_px"))}`]:c.pixel||0,[`${V(Y("spacing_percent"))}`]:c.percent||0,[`${V(Y("padding_px"))}`]:s.pixel||0,[`${V(Y("padding_percent"))}`]:s.percent||0}},f.map(({key:u,slide:m,offset:v})=>m?n.createElement(Bn,{key:u,slide:m,offset:v}):n.createElement(zn,{key:u})))}const Xn=Q(ft,Kn);function Bt(){const{carousel:e}=le(),{slides:t,currentIndex:o}=Ce(),r=t.length===0||e.finite&&o===0,i=t.length===0||e.finite&&o===t.length-1;return{prevDisabled:r,nextDisabled:i}}function Gn(e){var t;const o=Ke(),{publish:r}=be(),{animation:i}=le(),{prevDisabled:c,nextDisabled:s}=Bt(),l=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,f=rt(()=>r(j),l),u=rt(()=>r(Z),l),m=A(v=>{switch(v.key){case cn:r(te);break;case sn:(o?s:c)||(o?u:f)();break;case ln:(o?c:s)||(o?f:u)();break}});n.useEffect(()=>e(Pt,m),[e,m])}function st({label:e,icon:t,renderIcon:o,action:r,onClick:i,disabled:c,style:s}){return n.createElement(Ut,{label:e,icon:t,renderIcon:o,className:N(`navigation_${r}`),disabled:c,onClick:i,style:s,...Mn(de().focus,c)})}function Yn({render:{buttonPrev:e,buttonNext:t,iconPrev:o,iconNext:r},styles:i}){const{prev:c,next:s,subscribeSensors:l}=de(),{prevDisabled:f,nextDisabled:u}=Bt();return Gn(l),n.createElement(n.Fragment,null,e?e():n.createElement(st,{label:"Previous",action:j,icon:Sn,renderIcon:o,style:i.navigationPrev,disabled:f,onClick:c}),t?t():n.createElement(st,{label:"Next",action:Z,icon:On,renderIcon:r,style:i.navigationNext,disabled:u,onClick:s}))}const jn=Q(qt,Yn),lt=N(nn),Zn=N(vt);function qn(e){return"style"in e}function at(e,t,o){const r=window.getComputedStyle(e),i=o?"padding-left":"padding-right",c=o?r.paddingLeft:r.paddingRight,s=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Pe(c)||0)+t}px`),()=>{s?e.style.setProperty(i,s):e.style.removeProperty(i)}}function Qn({noScroll:{disabled:e},children:t}){const o=Ke(),{getOwnerDocument:r,getOwnerWindow:i}=ze();return n.useEffect(()=>{if(e)return()=>{};const c=[],s=i(),{body:l,documentElement:f}=r(),u=Math.round(s.innerWidth-f.clientWidth);if(u>0){c.push(at(l,u,o));const m=l.getElementsByTagName("*");for(let v=0;v<m.length;v+=1){const P=m[v];qn(P)&&s.getComputedStyle(P).getPropertyValue("position")==="fixed"&&!P.classList.contains(Zn)&&c.push(at(P,u,o))}}return l.classList.add(lt),()=>{l.classList.remove(lt),c.forEach(m=>m())}},[o,e,r,i]),n.createElement(n.Fragment,null,t)}const Jn=Q(Qt,Qn);function ut(e){return se(Fe,e)}function dt(e,t,o){const r=e.getAttribute(t);return e.setAttribute(t,o),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function eo({children:e,animation:t,styles:o,className:r,on:i,portal:c,close:s}){const[l,f]=n.useState(!1),[u,m]=n.useState(!1),v=n.useRef([]),P=n.useRef(null),{setTimeout:E}=Ne(),{subscribe:h}=be(),b=$t()?0:t.fade;n.useEffect(()=>(f(!0),()=>{f(!1),m(!1)}),[]);const g=A(()=>{v.current.forEach(x=>x()),v.current=[]}),L=A(()=>{var x;m(!1),g(),(x=i.exiting)===null||x===void 0||x.call(i),E(()=>{var O;(O=i.exited)===null||O===void 0||O.call(i),s()},b)});n.useEffect(()=>h(te,L),[h,L]);const w=A(x=>{var O,S,y;x.scrollTop,m(!0),(O=i.entering)===null||O===void 0||O.call(i);const p=(y=(S=x.parentNode)===null||S===void 0?void 0:S.children)!==null&&y!==void 0?y:[];for(let _=0;_<p.length;_+=1){const I=p[_];["TEMPLATE","SCRIPT","STYLE"].indexOf(I.tagName)===-1&&I!==x&&(v.current.push(dt(I,"inert","")),v.current.push(dt(I,"aria-hidden","true")))}v.current.push(()=>{var _,I;(I=(_=P.current)===null||_===void 0?void 0:_.focus)===null||I===void 0||I.call(_)}),E(()=>{var _;(_=i.entered)===null||_===void 0||_.call(i)},b)}),T=n.useCallback(x=>{x?w(x):g()},[w,g]);return l?Zt.createPortal(n.createElement(kn,{ref:T,className:G(r,N(ut()),N(vt),u&&N(ut("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==Ve.animation.fade?{[V("fade_animation_duration")]:`${b}ms`}:null,...t.easing.fade!==Ve.animation.easing.fade?{[V("fade_animation_timing_function")]:t.easing.fade}:null,...o.root},onFocus:x=>{P.current||(P.current=x.relatedTarget)}},e),c.root||document.body):null}const to=Q(Fe,eo);function no({children:e}){return n.createElement(n.Fragment,null,e)}const oo=Q(Jt,no);function ro(e){return se(ht,e)}function io({toolbar:{buttons:e},render:{buttonClose:t,iconClose:o},styles:r}){const{close:i,setToolbarWidth:c}=de(),{setContainerRef:s,containerRect:l}=Ft();ue(()=>{c(l==null?void 0:l.width)},[c,l==null?void 0:l.width]);const f=()=>t?t():n.createElement(Ut,{key:te,label:"Close",icon:wn,renderIcon:o,onClick:i});return n.createElement("div",{ref:s,style:r.toolbar,className:N(ro())},e==null?void 0:e.map(u=>u===te?f():u))}const co=Q(ht,io);function zt(e,t){var o;return n.createElement(e.module.component,{key:e.module.name,...t},(o=e.children)===null||o===void 0?void 0:o.map(r=>zt(r,t)))}function so(e,t={}){const{easing:o,...r}=e,{easing:i,...c}=t;return{easing:{...o,...i},...r,...c}}function Ro({carousel:e,animation:t,render:o,toolbar:r,controller:i,noScroll:c,on:s,plugins:l,slides:f,index:u,...m}){const{animation:v,carousel:P,render:E,toolbar:h,controller:d,noScroll:b,on:g,slides:L,index:w,plugins:T,...x}=Ve,{config:O,augmentation:S}=_n([D(to,[D(Jn,[D(Hn,[D(Xn),D(co),D(jn)])])])],l||T),y=S({animation:so(v,t),carousel:{...P,...e},render:{...E,...o},toolbar:{...h,...r},controller:{...d,...i},noScroll:{...b,...c},on:{...g,...s},...x,...m});return y.open?n.createElement(Pn,{...y},n.createElement(Nn,{slides:f||L,index:Pe(u||w)},n.createElement(In,null,n.createElement(Ln,null,zt(D(oo,O),y))))):null}export{te as ACTION_CLOSE,Z as ACTION_NEXT,j as ACTION_PREV,et as ACTION_SWIPE,bo as ACTIVE_SLIDE_COMPLETE,Po as ACTIVE_SLIDE_ERROR,xo as ACTIVE_SLIDE_LOADING,Lo as ACTIVE_SLIDE_PLAYING,mt as CLASS_FLEX_CENTER,Co as CLASS_FULLSIZE,nn as CLASS_NO_SCROLL,vt as CLASS_NO_SCROLL_PADDING,on as CLASS_SLIDE_WRAPPER,No as CLASS_SLIDE_WRAPPER_INTERACTIVE,Kn as Carousel,Xn as CarouselModule,wn as CloseIcon,Fn as Controller,Ht as ControllerContext,Hn as ControllerModule,Tt as DocumentContext,xn as DocumentContextProvider,an as ELEMENT_BUTTON,We as ELEMENT_ICON,Pt as EVENT_ON_KEY_DOWN,rn as EVENT_ON_KEY_UP,Lt as EVENT_ON_POINTER_CANCEL,Et as EVENT_ON_POINTER_DOWN,xt as EVENT_ON_POINTER_LEAVE,gt as EVENT_ON_POINTER_MOVE,_t as EVENT_ON_POINTER_UP,bt as EVENT_ON_WHEEL,yn as ErrorIcon,Mt as EventsContext,Ln as EventsProvider,Ct as IMAGE_FIT_CONTAIN,tt as IMAGE_FIT_COVER,Ut as IconButton,Dn as ImageSlide,Ro as Lightbox,Ve as LightboxDefaultProps,kt as LightboxDispatchContext,At as LightboxPropsContext,Pn as LightboxPropsProvider,kn as LightboxRoot,Dt as LightboxStateContext,Nn as LightboxStateProvider,Rn as LoadingIcon,ft as MODULE_CAROUSEL,pt as MODULE_CONTROLLER,qt as MODULE_NAVIGATION,Qt as MODULE_NO_SCROLL,Fe as MODULE_PORTAL,Jt as MODULE_ROOT,ht as MODULE_TOOLBAR,Yn as Navigation,st as NavigationButton,jn as NavigationModule,On as NextIcon,Qn as NoScroll,Jn as NoScrollModule,uo as PLUGIN_CAPTIONS,fo as PLUGIN_COUNTER,po as PLUGIN_DOWNLOAD,ho as PLUGIN_FULLSCREEN,mo as PLUGIN_INLINE,vo as PLUGIN_SHARE,Eo as PLUGIN_SLIDESHOW,go as PLUGIN_THUMBNAILS,_o as PLUGIN_ZOOM,eo as Portal,to as PortalModule,Sn as PreviousIcon,no as Root,oo as RootModule,_e as SLIDE_STATUS_COMPLETE,ge as SLIDE_STATUS_ERROR,Ee as SLIDE_STATUS_LOADING,tn as SLIDE_STATUS_PLACEHOLDER,en as SLIDE_STATUS_PLAYING,k as SwipeState,Wt as TimeoutsContext,In as TimeoutsProvider,io as Toolbar,co as ToolbarModule,un as UNKNOWN_ACTION_TYPE,sn as VK_ARROW_LEFT,ln as VK_ARROW_RIGHT,cn as VK_ESCAPE,ce as activeSlideStatus,wo as addToolbarButton,vn as calculatePreload,It as cleanup,G as clsx,se as composePrefix,hn as computeSlideRect,ae as createIcon,Oo as createIconDisabled,Q as createModule,D as createNode,N as cssClass,V as cssVar,Ro as default,Io as devicePixelRatio,Rt as getSlide,Ue as getSlideIfPresent,St as getSlideIndex,mn as getSlideKey,Ot as hasSlides,Be as hasWindow,pn as isImageFitCover,wt as isImageSlide,dn as label,He as makeComposePrefix,gn as makeInertWhen,q as makeUseContext,Pe as parseInt,Le as parseLengthPercentage,fn as round,ot as setRef,So as stopNavigationEventsPropagation,nt as useAnimation,Ft as useContainerRect,de as useController,xe as useDelay,ze as useDocumentContext,A as useEventCallback,be as useEvents,$e as useForkRef,Gn as useKeyboardNavigation,ue as useLayoutEffect,bn as useLightboxDispatch,le as useLightboxProps,Ce as useLightboxState,Mn as useLoseFocus,$t as useMotionPreference,Bt as useNavigationState,Wn as usePointerEvents,Un as usePointerSwipe,Vn as usePreventWheelDefaults,Ke as useRTL,An as useSensors,rt as useThrottle,Ne as useTimeouts,$n as useWheelSwipe,_n as withPlugins};
